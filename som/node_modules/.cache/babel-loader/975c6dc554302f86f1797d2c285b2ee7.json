{"ast":null,"code":"import * as ActionTypes from './ActionTypes';\nimport { DATASETFILES } from '../database/datasetFiles';\nimport { MODELFILES } from '../database/modelFiles';\nimport { backendUrl } from '../server/backendUrl';\nimport http from \"../server/baseUrl\";\nimport baseUrl from '../server/baseUrl';\n/**\n * Dataset\n */\n// fetch datasets from the backend server\n\nexport const fetchDatasetFiles = () => dispatch => {\n  // return dispatch(addDatasetFiles(DATASETFILES))\n  dispatch(datasetFilesLoading(true));\n  return fetch(backendUrl + 'datasetFiles') // backend address: Localhost: 5000/datasetFiles\n  .then(response => response.json()) // when the promise resolved, we convert the incoming response into JSON by calling response.json\n  .then(datasetFiles => dispatch(addDatasetFiles(datasetFiles))) // when the datasetFiles is obtained, we dispatch it into addDatasetFiles()\n  .then(data => console.log(data));\n};\nexport const datasetFilesLoading = () => ({\n  type: ActionTypes.DATASETFILES_LOADING\n});\nexport const datasetFilesFailed = errmess => ({\n  type: ActionTypes.DATASETFILES_FAILED,\n  payload: errmess\n});\nexport const addDatasetFiles = datasetFiles => ({\n  type: ActionTypes.ADD_DATASETFILES,\n  payload: datasetFiles\n});\nexport const addDataset = dataset => ({\n  type: ActionTypes.UPLOAD_DATASET,\n  payload: dataset\n}); // uploading a new dataset file\n\nexport const uploadDataset = (dataset, onUploadProgress) => dispatch => {\n  // post the uploaded dataset to the backend server\n  return http.post('/upload', dataset, {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\"\n    },\n    onUploadProgress\n  }).then(res => {\n    console.log(\"this is response\");\n    console.log(res);\n  }).then(res => {\n    dispatch(fetchUploadedDataset());\n  });\n}; // get the uploded dataset info when the uploading is done in the backend\n\nexport const fetchUploadedDataset = () => dispatch => {\n  return fetch(backendUrl + 'newDataset').then(response => response.json()).then(dataset => dispatch(addDataset(dataset))).then(data => {\n    console.log(\"this is data\");\n    console.log(data);\n  });\n};\nexport const removeOneDataset = datasetName => ({\n  type: ActionTypes.REMOVE_DATASET,\n  payload: datasetName\n}); // pass the filename to the backend server and tell it to delete corresponding dataset\n\nexport const deleteOneDataset = datasetName => dispatch => {\n  return http.post('/delete-dataset', JSON.stringify(datasetName), {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\"\n    }\n  }).then(res => {\n    console.log(\"this is response for delete dataset\");\n    console.log(res);\n    dispatch(removeOneDataset(res.data));\n  }).catch(err => console.log(err));\n};\n/**\n * Models\n */\n// fetch models from the backend server\n\nexport const fetchModelFiles = () => dispatch => {\n  // test\n  // return dispatch(addModelFiles(MODELFILES))\n  dispatch(modelFilesLoading(true));\n  return fetch(backendUrl + 'modelFiles') // backend address: Localhost: 5000/modelFiles\n  .then(response => response.json()) // when the promise resolved, we convert the incoming response into JSON by calling response.json\n  .then(modelFiles => dispatch(addModelFiles(modelFiles))) // when the modelFiles is obtained, we dispatch it into addModelFiles()\n  .then(data => console.log(data));\n};\nexport const modelFilesLoading = () => ({\n  type: ActionTypes.MODELFILES_LOADING\n});\nexport const modelFilesFailed = errmess => ({\n  type: ActionTypes.MODELFILES_FAILED,\n  payload: errmess\n});\nexport const addModelFiles = modelFiles => ({\n  type: ActionTypes.ADD_MODELFILES,\n  payload: modelFiles\n});\nexport const addModel = model => ({\n  type: ActionTypes.UPLOAD_MODEL,\n  payload: model\n}); // uploading a new model file\n\nexport const uploadModel = (model, onUploadProgress) => dispatch => {\n  // post the uploaded model to the backend server\n  return http.post('/upload', model, {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\"\n    },\n    onUploadProgress\n  }).then(res => {\n    console.log(\"this is response\");\n    console.log(res);\n  }).then(res => {\n    dispatch(fetchUploadedModel());\n  });\n}; // get the uploded model info when the uploading is done in the backend\n\nexport const fetchUploadedModel = () => dispatch => {\n  return fetch(backendUrl + 'newModel').then(response => response.json()).then(model => dispatch(addModel(model))).then(data => {\n    console.log(\"this is data\");\n    console.log(data);\n  });\n};\nexport const removeOneModel = modelName => ({\n  type: ActionTypes.REMOVE_MODEL,\n  payload: modelName\n}); // pass the filename to the backend server and tell it to delete corresponding model\n\nexport const deleteOneModel = modelName => dispatch => {\n  return http.post('/delete-model', JSON.stringify(modelName), {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\"\n    }\n  }).then(res => {\n    console.log(\"this is response for delete model\");\n    console.log(res);\n    dispatch(removeOneModel(res.data));\n  }).catch(err => console.log(err));\n};\n/**\n * Metadata\n */\n// submit metadata of a dataset\n\nexport const submitMetadata = metadata => dispatch => {\n  return http.post('/submit-metadata', JSON.stringify(metadata), {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\"\n    }\n  }).then(res => {\n    console.log(\"this is response for metadata\");\n    console.log(res);\n  }).catch(err => console.log(err));\n};\nexport const addMetadata = metadata => ({\n  type: ActionTypes.ADD_METADATA,\n  payload: metadata\n});\nexport const metadataFailed = errmess => ({\n  type: ActionTypes.METADATA_FAILED,\n  payload: errmess\n});\nexport const metadataLoading = () => ({\n  type: ActionTypes.METADATA_LOADING\n});\n/**\n * Detailed data\n */\n\nexport const sendNameForDetailedData = datasetName => dispatch => {\n  console.log(\"start detailed loading\");\n  return http.post('/detailedData-name', JSON.stringify(datasetName), {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\"\n    }\n  }).then(res => {\n    console.log(\"this is response for detailed data\");\n    console.log(res.data);\n    dispatch(addDetailedData(res.data[0]));\n    dispatch(addMetadata(res.data[1]));\n  }).catch(err => console.log(err));\n};\nexport const addDetailedData = detaileddata => ({\n  type: ActionTypes.ADD_DETAILEDDATA,\n  payload: detaileddata\n});\nexport const detailedDataFailed = errmess => ({\n  type: ActionTypes.DETAILEDDATA_FAILED,\n  payload: errmess\n});\nexport const detailedDataLoading = () => ({\n  type: ActionTypes.DETAILEDDATA_LOADING\n});","map":{"version":3,"sources":["D:/Pythoncodes/New2/som/src/redux/ActionCreators.js"],"names":["ActionTypes","DATASETFILES","MODELFILES","backendUrl","http","baseUrl","fetchDatasetFiles","dispatch","datasetFilesLoading","fetch","then","response","json","datasetFiles","addDatasetFiles","data","console","log","type","DATASETFILES_LOADING","datasetFilesFailed","errmess","DATASETFILES_FAILED","payload","ADD_DATASETFILES","addDataset","dataset","UPLOAD_DATASET","uploadDataset","onUploadProgress","post","headers","res","fetchUploadedDataset","removeOneDataset","datasetName","REMOVE_DATASET","deleteOneDataset","JSON","stringify","catch","err","fetchModelFiles","modelFilesLoading","modelFiles","addModelFiles","MODELFILES_LOADING","modelFilesFailed","MODELFILES_FAILED","ADD_MODELFILES","addModel","model","UPLOAD_MODEL","uploadModel","fetchUploadedModel","removeOneModel","modelName","REMOVE_MODEL","deleteOneModel","submitMetadata","metadata","addMetadata","ADD_METADATA","metadataFailed","METADATA_FAILED","metadataLoading","METADATA_LOADING","sendNameForDetailedData","addDetailedData","detaileddata","ADD_DETAILEDDATA","detailedDataFailed","DETAILEDDATA_FAILED","detailedDataLoading","DETAILEDDATA_LOADING"],"mappings":"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","sourcesContent":["import * as ActionTypes from './ActionTypes';\nimport { DATASETFILES } from '../database/datasetFiles';\nimport { MODELFILES } from '../database/modelFiles';\nimport { backendUrl } from '../server/backendUrl';\nimport http from \"../server/baseUrl\";\nimport baseUrl from '../server/baseUrl';\n\n/**\n * Dataset\n */\n// fetch datasets from the backend server\nexport const fetchDatasetFiles = () => (dispatch) => {\n  // return dispatch(addDatasetFiles(DATASETFILES))\n    dispatch(datasetFilesLoading(true));\n\n    return fetch(backendUrl + 'datasetFiles') // backend address: Localhost: 5000/datasetFiles\n        .then(response => response.json()) // when the promise resolved, we convert the incoming response into JSON by calling response.json\n        .then(datasetFiles => dispatch(addDatasetFiles(datasetFiles))) // when the datasetFiles is obtained, we dispatch it into addDatasetFiles()\n        .then(data => console.log(data));\n}\n\nexport const datasetFilesLoading = () => ({\n    type: ActionTypes.DATASETFILES_LOADING\n});\n\nexport const datasetFilesFailed = (errmess) => ({\n    type: ActionTypes.DATASETFILES_FAILED,\n    payload: errmess\n});\n\nexport const addDatasetFiles = (datasetFiles) => ({\n    type: ActionTypes.ADD_DATASETFILES,\n    payload: datasetFiles\n});\n\nexport const addDataset = (dataset) => ({\n    type: ActionTypes.UPLOAD_DATASET,\n    payload: dataset\n});\n\n// uploading a new dataset file\nexport const uploadDataset = (dataset, onUploadProgress) => (dispatch) => {\n    // post the uploaded dataset to the backend server\n    return http.post('/upload', dataset, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n        },\n        onUploadProgress,\n      })\n        .then(res => {\n            console.log(\"this is response\");\n            console.log(res);\n        })\n        .then(res => {\n            dispatch(fetchUploadedDataset());\n        })\n};\n\n// get the uploded dataset info when the uploading is done in the backend\nexport const fetchUploadedDataset = () => (dispatch) => {\n    return fetch(backendUrl + 'newDataset')\n        .then(response => response.json())\n        .then(dataset => dispatch(addDataset(dataset)))\n        .then(data => {\n            console.log(\"this is data\");\n            console.log(data);\n        });\n};\n\nexport const removeOneDataset = (datasetName) => ({\n    type: ActionTypes.REMOVE_DATASET,\n    payload: datasetName\n});\n\n// pass the filename to the backend server and tell it to delete corresponding dataset\nexport const deleteOneDataset = (datasetName) => (dispatch) => {\n    return http.post('/delete-dataset', JSON.stringify(datasetName), {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n        }})\n        .then(res => {\n            console.log(\"this is response for delete dataset\");\n            console.log(res);\n            dispatch(removeOneDataset(res.data));\n        })\n        .catch((err) => console.log(err));\n};\n\n\n/**\n * Models\n */\n// fetch models from the backend server\nexport const fetchModelFiles = () => (dispatch) => {\n  // test\n  // return dispatch(addModelFiles(MODELFILES))\n\n  dispatch(modelFilesLoading(true));\n\n  return fetch(backendUrl + 'modelFiles') // backend address: Localhost: 5000/modelFiles\n    .then(response => response.json()) // when the promise resolved, we convert the incoming response into JSON by calling response.json\n    .then(modelFiles => dispatch(addModelFiles(modelFiles))) // when the modelFiles is obtained, we dispatch it into addModelFiles()\n    .then(data => console.log(data));\n}\n\nexport const modelFilesLoading = () => ({\n  type: ActionTypes.MODELFILES_LOADING\n});\n\nexport const modelFilesFailed = (errmess) => ({\n  type: ActionTypes.MODELFILES_FAILED,\n  payload: errmess\n});\n\nexport const addModelFiles = (modelFiles) => ({\n  type: ActionTypes.ADD_MODELFILES,\n  payload: modelFiles\n});\n\nexport const addModel = (model) => ({\n  type: ActionTypes.UPLOAD_MODEL,\n  payload: model\n});\n\n// uploading a new model file\nexport const uploadModel = (model, onUploadProgress) => (dispatch) => {\n  // post the uploaded model to the backend server\n  return http.post('/upload', model, {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\",\n    },\n    onUploadProgress,\n  })\n    .then(res => {\n      console.log(\"this is response\");\n      console.log(res);\n    })\n    .then(res => {\n      dispatch(fetchUploadedModel());\n    })\n};\n\n// get the uploded model info when the uploading is done in the backend\nexport const fetchUploadedModel = () => (dispatch) => {\n  return fetch(backendUrl + 'newModel')\n    .then(response => response.json())\n    .then(model => dispatch(addModel(model)))\n    .then(data => {\n      console.log(\"this is data\");\n      console.log(data);\n    });\n};\n\nexport const removeOneModel = (modelName) => ({\n  type: ActionTypes.REMOVE_MODEL,\n  payload: modelName\n});\n\n// pass the filename to the backend server and tell it to delete corresponding model\nexport const deleteOneModel = (modelName) => (dispatch) => {\n  return http.post('/delete-model', JSON.stringify(modelName), {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\",\n    }})\n    .then(res => {\n      console.log(\"this is response for delete model\");\n      console.log(res);\n      dispatch(removeOneModel(res.data));\n    })\n    .catch((err) => console.log(err));\n};\n/**\n * Metadata\n */\n// submit metadata of a dataset\nexport const submitMetadata = (metadata) => (dispatch) => {\n    return http.post('/submit-metadata', JSON.stringify(metadata), {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n        }})\n        .then(res => {\n            console.log(\"this is response for metadata\");\n            console.log(res);\n        })\n        .catch((err) => console.log(err));\n};\n\nexport const addMetadata = (metadata) => ({\n    type: ActionTypes.ADD_METADATA,\n    payload: metadata\n});\n\nexport const metadataFailed = (errmess) => ({\n    type: ActionTypes.METADATA_FAILED,\n    payload: errmess\n});\n\nexport const metadataLoading = () => ({\n    type: ActionTypes.METADATA_LOADING\n});\n\n/**\n * Detailed data\n */\nexport const sendNameForDetailedData = (datasetName) => (dispatch) => {\n    console.log(\"start detailed loading\")\n\n    return http.post('/detailedData-name', JSON.stringify(datasetName), {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n        }})\n        .then(res => {\n            console.log(\"this is response for detailed data\");\n            console.log(res.data);\n            dispatch(addDetailedData(res.data[0]));\n            dispatch(addMetadata(res.data[1]));\n        })\n        .catch((err) => console.log(err));\n}\n\n\n\nexport const addDetailedData = (detaileddata) => ({\n    type: ActionTypes.ADD_DETAILEDDATA,\n    payload: detaileddata\n});\n\nexport const detailedDataFailed = (errmess) => ({\n    type: ActionTypes.DETAILEDDATA_FAILED,\n    payload: errmess\n});\n\nexport const detailedDataLoading = () => ({\n    type: ActionTypes.DETAILEDDATA_LOADING\n});\n\n\n"]},"metadata":{},"sourceType":"module"}